# API配置指南

本应用支持两种翻译服务：DeepLX 和 阿里云通义千问。

## 一、DeepLX API

### 获取方式
DeepLX是一个开源的DeepL翻译API代理服务。

### 配置步骤
1. 在配置面板选择"DeepLX"
2. 填入完整的API地址
3. 格式示例：`https://api.deeplx.org/YOUR_KEY/translate`
4. 点击"保存配置"

### 优点
- 专业翻译质量
- 响应速度快
- 支持多种语言对

### 注意事项
- 需要有效的DeepLX API访问地址
- 部分服务可能需要付费

---

## 二、阿里云通义千问 API

### 获取API Key

1. **注册阿里云账号**
   - 访问：https://www.aliyun.com/
   - 注册并完成实名认证

2. **开通DashScope服务**
   - 访问：https://dashscope.aliyun.com/
   - 开通"模型服务灵积"
   - 进入控制台

3. **创建API Key**
   - 在控制台点击"API-KEY管理"
   - 创建新的API Key
   - 复制生成的Key（格式：`sk-xxxxxxxxxxxxxxxx`）

### 配置步骤
1. 在配置面板选择"阿里云 (通义千问)"
2. 填入你的API Key
3. 填入模型名称（手动输入），常用模型：
   - **qwen-max**：最新版本，最高质量
   - **qwen-plus**：推荐使用，性价比高
   - **qwen-turbo**：快速响应，成本最低
   - **qwen2.5-72b-instruct**：大参数模型
   - **qwen2.5-32b-instruct**：中等参数模型
   - 或访问阿里云文档查看最新模型列表
4. 点击"保存配置"

### 模型对比

| 模型 | 特点 | 适用场景 | 相对成本 |
|------|------|----------|----------|
| qwen-max | 最新版本，最高质量 | 专业文档、学术论文 | 高 |
| qwen-plus | 质量与速度平衡（推荐） | 一般文档翻译 | 中 |
| qwen-turbo | 快速响应 | 简单文本、大批量 | 低 |
| qwen2.5-72b-instruct | 大参数模型 | 复杂翻译任务 | 较高 |
| qwen2.5-32b-instruct | 中等参数 | 平衡质量和成本 | 中等 |

### 优点
- AI大模型翻译，理解上下文
- 支持长文本翻译
- 翻译更自然流畅
- 灵活选择任意模型
- 支持最新发布的模型

### 费用说明
- 按调用次数和token数量计费
- 新用户通常有免费额度
- 具体价格查看：https://dashscope.aliyun.com/pricing

### 注意事项
- 需要阿里云账号并开通DashScope服务
- API Key请妥善保管，不要泄露
- 注意控制使用量，避免产生意外费用
- 建议在阿里云控制台设置费用预警

---

## 三、如何选择？

### 选择DeepLX，如果你：
- 需要专业级翻译质量
- 翻译语言对DeepL支持良好
- 已有DeepLX API访问权限

### 选择阿里云，如果你：
- 需要AI理解上下文
- 翻译中文相关内容
- 需要更自然的翻译风格
- 愿意为高质量翻译付费

---

## 四、测试配置

配置完成后，建议：
1. 上传一个小的PDF文件（1-2页）
2. 进行测试翻译
3. 检查翻译质量和速度
4. 确认配置正确后再处理大文件

---

## 五、常见问题

### Q: 可以同时配置两个API吗？
A: 可以。系统会保存两个API的配置，你可以随时切换使用。

### Q: 配置会丢失吗？
A: 配置保存在浏览器本地存储中，除非清除浏览器数据，否则会一直保留。

### Q: 阿里云API调用失败怎么办？
A: 检查以下几点：
- API Key是否正确
- 是否已开通DashScope服务
- 账户余额是否充足
- 网络连接是否正常

### Q: DeepLX API地址在哪里获取？
A: DeepLX是开源项目，你可以：
- 自己部署DeepLX服务
- 使用第三方提供的DeepLX API服务
- 搜索"DeepLX API"获取更多信息

---

## 六、安全建议

1. **不要分享你的API Key**
2. **定期更换API Key**
3. **设置费用预警**（阿里云）
4. **监控API使用情况**
5. **在公共电脑使用后清除浏览器数据**

---

## 七、技术支持

- 阿里云DashScope文档：https://help.aliyun.com/zh/dashscope/
- DeepLX项目：https://github.com/OwO-Network/DeepLX

